.perspective-1200 {
  perspective: 2000px;
  perspective-origin: center;
}

.book-container {
  transform-style: preserve-3d;
  width: 100%;
  height: 100%;
  position: relative;
}

/* Couverture du livre */
.book-cover {
  position: absolute;
  width: 80%;
  height: 90%;
  top: 5%;
  left: 10%;
  transform-style: preserve-3d;
  transform-origin: left center;
  transition: transform 1s cubic-bezier(0.645, 0.045, 0.355, 1), 
              opacity 1s cubic-bezier(0.645, 0.045, 0.355, 1);
  border-radius: 8px;
  cursor: pointer;
  z-index: 1000;
}

.rotate-y-180 {
  transform: rotateY(-180deg);
}

.book-cover-texture {
  background-image: linear-gradient(45deg, rgba(255,255,255,0.1) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.1) 50%, rgba(255,255,255,0.1) 75%, transparent 75%, transparent);
  background-size: 4px 4px;
  border-radius: 8px;
}

/* Reliure du livre */
.book-spine {
  position: absolute;
  width: 40px;
  height: 90%;
  top: 5%;
  left: calc(10% - 20px);
  background: linear-gradient(90deg, #364869, #6c5ce7);
  transform: rotateY(-90deg) translateX(-20px);
  transform-origin: right center;
  box-shadow: inset -5px 0 10px rgba(0,0,0,0.2);
  z-index: 1;
  transition: transform 1s cubic-bezier(0.645, 0.045, 0.355, 1);
}

.book-spine.book-opened {
  transform: rotateY(-60deg) translateX(-15px);
}

/* Pages du livre */
.book-page {
  position: absolute;
  width: 80%;
  height: 90%;
  top: 5%;
  background-color: #fff;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  transition: transform 1s cubic-bezier(0.645, 0.045, 0.355, 1), 
              box-shadow 1s ease,
              opacity 0.3s ease;
  transform-style: preserve-3d;
  backface-visibility: hidden;
  border-radius: 8px;
  overflow: hidden;
}

.book-page-right {
  right: 10%;
  transform-origin: left center;
}

.book-page-left {
  left: 10%;
  transform-origin: right center;
}

.book-page-content {
  position: absolute;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  backface-visibility: hidden;
  border-radius: 8px;
}

/* Animations de retournement de page */
@keyframes flip-to-right {
  0% { 
    transform: rotateY(0deg); 
    z-index: 100;
  }
  50% {
    box-shadow: -30px 0px 40px rgba(0,0,0,0.2);
    z-index: 100;
  }
  100% { 
    transform: rotateY(180deg); 
    z-index: 10;
    box-shadow: 0px 0px 0px rgba(0,0,0,0.2);
  }
}

@keyframes flip-to-left {
  0% { 
    transform: rotateY(0deg); 
    z-index: 100;
  }
  50% {
    box-shadow: 30px 0px 40px rgba(0,0,0,0.2);
    z-index: 100;
  }
  100% { 
    transform: rotateY(-180deg); 
    z-index: 10;
    box-shadow: 0px 0px 0px rgba(0,0,0,0.2);
  }
}

.flipping-right {
  animation: flip-to-right 1s forwards;
  z-index: 100;
}

.flipping-left {
  animation: flip-to-left 1s forwards;
  z-index: 100;
}

/* Effet d'ombre sur la pliure */
.page-fold-shadow {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 30%;
  opacity: 0;
  transition: opacity 0.5s ease;
  pointer-events: none;
}

.page-fold-shadow.active {
  opacity: 0.7;
}

.page-fold-shadow.left {
  left: 0;
  background: linear-gradient(to right, rgba(0,0,0,0.3), rgba(0,0,0,0));
}

.page-fold-shadow.right {
  right: 0;
  background: linear-gradient(to left, rgba(0,0,0,0.3), rgba(0,0,0,0));
}

/* Classes utilitaires */
.translate-z-5 {
  transform: translateZ(5px);
}

.shadow-text {
  text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}